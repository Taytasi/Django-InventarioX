{% extends "base.html" %}
{% block content %}
  <div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow">
    <h2 class="text-xl font-bold mb-4">Introduce tu nueva contraseña</h2>

    {% if form.errors %}
      <div class="bg-red-100 text-red-700 border border-red-300 rounded p-3 mb-4">
        <ul class="list-disc ml-5">
          {% for field, errors in form.errors.items %}
            {% for error in errors %}
              <li>{{ error }}</li>
            {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
              <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <!-- Campos ocultos: uid y token -->
      {% for hidden in form.hidden_fields %}
        {{ hidden }}
      {% endfor %}

      <!-- Campo 1 -->
      <div>
        {{ form.new_password1.label_tag }}
        {{ form.new_password1 }}
        {% if form.new_password1.errors %}
          <p class="text-red-600 text-sm">{{ form.new_password1.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Campo 2 -->
      <div>
        {{ form.new_password2.label_tag }}
        {{ form.new_password2 }}
        {% if form.new_password2.errors %}
          <p class="text-red-600 text-sm">{{ form.new_password2.errors.0 }}</p>
        {% endif %}
      </div>

      <button type="submit" class="btn btn-primary w-full">Cambiar contraseña</button>
    </form>
  </div>
{% endblock %}


